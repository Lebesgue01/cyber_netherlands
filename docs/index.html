
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Distribution of Cyberattacks in the Netherlands in 2024</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
  html,body,#map{height:100%;margin:0;padding:0}
  body{font-family:system-ui,Segoe UI,Roboto,Arial, sans-serif}
  /* map placed to the right of the left sidebar */
  #map{position:absolute;left:300px;top:0;right:0;bottom:0}
  .sidebar {
    position: absolute;
    left: 12px;
    top: 12px;
    width: 276px;
    bottom: 12px;
    background: rgba(255,255,255,0.98);
    border-radius: 8px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    padding: 12px;
    overflow:auto;
    z-index:1000;
  }
  .sidebar h2{margin:6px 0 10px 0;font-size:16px}
  .field{margin-bottom:10px}
  label{display:block;font-size:13px;margin-bottom:4px;color:#222}
  input[type=date], select, input[type=text]{width:100%;padding:6px;border-radius:6px;border:1px solid #ddd}
  .small{font-size:12px;color:#555}
  .legend{position:absolute;right:12px;bottom:12px;background:rgba(255,255,255,0.95);padding:8px;border-radius:6px;box-shadow:0 1px 4px rgba(0,0,0,.12);z-index:1000}
  .dot{width:14px;height:14px;border-radius:50%;display:inline-block;margin-right:8px;vertical-align:middle;border:1px solid #222}
  .popup-company{font-weight:700;font-size:14px;margin-bottom:6px}
  .popup-meta{font-size:13px;color:#333;margin-bottom:6px}
</style>
</head>
<body>
<div class="sidebar">
  <h2>Filters — Distribution of Cyberattacks in the Netherlands in 2024</h2>

  <div class="field">
    <label for="dateFrom">Date (from)</label>
    <input id="dateFrom" type="date">
  </div>
  <div class="field">
    <label for="dateTo">Date (to)</label>
    <input id="dateTo" type="date">
  </div>
  <div class="field">
    <label for="attackType">Attack type</label>
    <select id="attackType">
      <option value="ALL">All</option>
      <option value="DDoS">DDoS</option><option value="Ransomware">Ransomware</option><option value="Unknown">Unknown</option>
    </select>
  </div>
  <div class="field">
    <label><input id="stateOnly" type="checkbox"> Only show state-related incidents (state_related)</label>
  </div>
  <div class="field small">
    <label><input id="includeUnknownDates" type="checkbox" checked> Include events without a date</label>
  </div>

  <hr style="margin:12px 0">
  <div class="small">Note: geocoding is performed via Nominatim (results cached locally). If a place can't be geocoded it will appear at the geographic centre of the Netherlands.</div>
  <div class="small">Note: Data mainly extracted from official websites of attacked companies and state service. </div>
</div>

<div id="map"></div>

<div class="legend">
  <div style="font-weight:700;margin-bottom:6px">Legend</div>
  <div style="margin-bottom:6px"><span class="dot" style="background:crimson;border-color:crimson"></span> State-related</div>
  <div style="margin-bottom:6px"><span class="dot" style="background:gold;border-color:gold"></span> AddComm attack</div>
  <div style="margin-bottom:6px"><span class="dot" style="background:grey;border-color:grey"></span> Derived from Addcom attack</div>
  <div><span class="dot" style="background:black;border-color:black"></span> Others</div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  const rows = [{"date_raw": "Jan 17", "date_iso": "2024-01-17", "place": "Amsterdam", "company": "AerCap", "company_domain": "Aircraft leasing company", "attack_type": "Ransomware", "consequence": "1 TB of data extracted", "perpetrator": "Slug", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.3730796, "lon": 4.8924534}, {"date_raw": "Feb 15", "date_iso": "2024-02-15", "place": "Oudeschild", "company": "AB Texel", "company_domain": "Logistics company", "attack_type": "Ransomware", "consequence": "No major consequence according to the company", "perpetrator": "Cactus", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 53.0383886, "lon": 4.8456912}, {"date_raw": "Feb 19", "date_iso": "2024-02-19", "place": "Leiden", "company": "HAL Allergy", "company_domain": "Pharmaceutical company", "attack_type": "Ransomware", "consequence": "", "perpetrator": "", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.1594747, "lon": 4.4908843}, {"date_raw": "Feb 26", "date_iso": "2024-02-26", "place": "Renswoude", "company": "EAS Europe", "company_domain": "Mechanical engineering company", "attack_type": "Ransomware", "consequence": "Encrypted data; sensitive data stolen; services shut down", "perpetrator": "", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.0724219, "lon": 5.5308677}, {"date_raw": "Mar 25", "date_iso": "2024-03-25", "place": "Netherlands", "company": "Public Administration", "company_domain": "Public administration", "attack_type": "DDoS", "consequence": "Websites of several provinces inaccessible", "perpetrator": "", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 52.2434979, "lon": 5.6343227}, {"date_raw": "Mar 29", "date_iso": "2024-03-29", "place": "Voorschoten", "company": "Municipality of Voorschoten", "company_domain": "Municipality", "attack_type": "DDoS", "consequence": "Inability to work from home", "perpetrator": "", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 52.125722, "lon": 4.4410169}, {"date_raw": "Mar 29", "date_iso": "2024-03-29", "place": "Wassenaar", "company": "Municipality of Wassenaar", "company_domain": "Municipality", "attack_type": "DDoS", "consequence": "Inability to work from home", "perpetrator": "", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 52.1436114, "lon": 4.3709668}, {"date_raw": "Mar 1", "date_iso": "2024-03-01", "place": "Nijmegen", "company": "Nexperia", "company_domain": "Chip maker", "attack_type": "Ransomware", "consequence": "Customer data stolen", "perpetrator": "Dunghill Leak", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 51.8474946, "lon": 5.8637771}, {"date_raw": "Apr 11", "date_iso": "2024-04-11", "place": "Ede", "company": "Iddink Learning Materials", "company_domain": "Distributor", "attack_type": "Ransomware", "consequence": "Customer data leak, including bank information", "perpetrator": "Cactus", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.0716825, "lon": 5.7455106}, {"date_raw": "", "date_iso": null, "place": "The Hague", "company": "Europol", "company_domain": "Police Agency", "attack_type": "Unknown", "consequence": "No operational data stolen according to Europol; serious infiltration according to IntelBroker", "perpetrator": "IntelBroker", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 52.0799838, "lon": 4.3113461}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Amsterdam", "company": "ABN Amro", "company_domain": "Bank", "attack_type": "Ransomware", "consequence": "Customer data compromised", "perpetrator": "", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.3730796, "lon": 4.8924534}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "s-Hertogenbosch", "company": "Essent", "company_domain": "Energy supply company", "attack_type": "Ransomware", "consequence": "No personal data stolen", "perpetrator": "", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 51.6889387, "lon": 5.303116}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Utrecht", "company": "Portaal", "company_domain": "Housing association", "attack_type": "Ransomware", "consequence": "Data stolen", "perpetrator": "", "Addcom_related": true, "state_related": false, "is_company_addcomm": false, "lat": 52.0907006, "lon": 5.1215634}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Amersfoort", "company": "AddComm", "company_domain": "Service provider", "attack_type": "Ransomware", "consequence": "Data stolen", "perpetrator": "", "Addcom_related": false, "state_related": false, "is_company_addcomm": true, "lat": 52.1637702, "lon": 5.4088845}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Schiedam", "company": "Regionale Belasting Groep", "company_domain": "Tax authority", "attack_type": "Ransomware", "consequence": "Data stolen and encrypted", "perpetrator": "", "Addcom_related": true, "state_related": false, "is_company_addcomm": false, "lat": 51.9300454, "lon": 4.3864511}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Heerhugowaard", "company": "Hoogheemraadschap Hollands Noorderkwartier", "company_domain": "Water authority", "attack_type": "Ransomware", "consequence": "Data stolen", "perpetrator": "", "Addcom_related": true, "state_related": false, "is_company_addcomm": false, "lat": 52.6631484, "lon": 4.8326672}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Groningen", "company": "Waterbedrijf Groningen", "company_domain": "Water utility", "attack_type": "Ransomware", "consequence": "Customer data compromised", "perpetrator": "", "Addcom_related": true, "state_related": false, "is_company_addcomm": false, "lat": 53.2190652, "lon": 6.5680077}, {"date_raw": "May 17", "date_iso": "2024-05-17", "place": "Assen", "company": "WMD Drinkwater", "company_domain": "Water utility", "attack_type": "Ransomware", "consequence": "Data stolen", "perpetrator": "", "Addcom_related": true, "state_related": false, "is_company_addcomm": false, "lat": 52.997225, "lon": 6.5506458}, {"date_raw": "June 1", "date_iso": "2024-06-01", "place": "Netherlands", "company": "", "company_domain": "Political websites", "attack_type": "DDoS", "consequence": "Services unavailable", "perpetrator": "HackNet", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 52.2434979, "lon": 5.6343227}, {"date_raw": "Sep 1", "date_iso": "2024-09-01", "place": "Haarlemmermeer", "company": "Kawasaki Motors Europe", "company_domain": "Car manufacturer", "attack_type": "Ransomware", "consequence": "500 GB data stolen", "perpetrator": "RansomHub", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.3238421, "lon": 4.7152612}, {"date_raw": "Sep 1", "date_iso": "2024-09-01", "place": "Netherlands", "company": "Police of the Netherlands", "company_domain": "Police", "attack_type": "Unknown", "consequence": "No sensitive data stolen", "perpetrator": "", "Addcom_related": false, "state_related": true, "is_company_addcomm": false, "lat": 52.2434979, "lon": 5.6343227}, {"date_raw": "Dec 1", "date_iso": "2024-12-01", "place": "Houten", "company": "Bnext", "company_domain": "Waste recycling company", "attack_type": "Unknown", "consequence": "500 GB data leak", "perpetrator": "Black Basta", "Addcom_related": false, "state_related": false, "is_company_addcomm": false, "lat": 52.0271433, "lon": 5.1620637}];

  function markerColor(r){
    if(r.state_related) return 'crimson';
    if(r.is_company_addcomm) return 'gold';
    if(r.Addcom_related) return 'grey';
    return 'black';
  }

  const map = L.map('map').setView([52.09,5.12],7);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '© OpenStreetMap contributors'
  }).addTo(map);

  let markersLayer = L.layerGroup().addTo(map);

  function makePopupHtml(r){
    const dateText = r.date_iso ? new Date(r.date_iso).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'}) : (r.date_raw || 'Unknown date');
    const place = r.place || '—';
    const company = r.company || '—';
    const perpetrator = r.perpetrator || '—';
    const consequence = r.consequence || '—';
    return `
      <div class="popup-company">${escapeHtml(company)}</div>
      <div class="popup-meta">${escapeHtml(place)} — ${escapeHtml(dateText)}</div>
      <div><strong>Perpetrator:</strong> ${escapeHtml(perpetrator)}</div>
      <div><strong>Consequence:</strong> ${escapeHtml(consequence)}</div>
    `;
  }

  function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

  function renderMarkers(){
    markersLayer.clearLayers();
    const attackFilter = document.getElementById('attackType').value;
    const stateOnly = document.getElementById('stateOnly').checked;
    const includeUnknownDates = document.getElementById('includeUnknownDates').checked;
    const dateFrom = document.getElementById('dateFrom').value ? new Date(document.getElementById('dateFrom').value) : null;
    const dateTo = document.getElementById('dateTo').value ? new Date(document.getElementById('dateTo').value) : null;

    const toShow = rows.filter(r=>{
      if(stateOnly && !r.state_related) return false;
      if(attackFilter && attackFilter !== 'ALL' && (r.attack_type || '').trim() !== attackFilter) return false;
      const dt = r.date_iso ? new Date(r.date_iso) : null;
      if(dt){
        if(dateFrom && dt < dateFrom) return false;
        if(dateTo && dt > dateTo) return false;
      } else {
        if(!includeUnknownDates) return false;
      }
      return true;
    });

    const latlngs = [];
    toShow.forEach(r=>{
      const lat = r.lat || 52.132633;
      const lon = r.lon || 5.291266;
      const color = markerColor(r);
      const marker = L.circleMarker([lat,lon], { radius:8, fill:true, fillColor:color, color:color, weight:1, fillOpacity:0.95 });
      marker.bindPopup(makePopupHtml(r));
      marker.addTo(markersLayer);
      latlngs.push([lat,lon]);
    });

    if(latlngs.length>0){
      const bounds = L.latLngBounds(latlngs);
      map.fitBounds(bounds.pad(0.2));
    } else {
      map.setView([52.09,5.12],7);
    }
  }

  // default date range: full year 2024
  document.getElementById('dateFrom').value = '2024-01-01';
  document.getElementById('dateTo').value = '2024-12-31';

  // Immediate filtering: call renderMarkers on input/change events
  document.getElementById('dateFrom').addEventListener('input', renderMarkers);
  document.getElementById('dateTo').addEventListener('input', renderMarkers);
  document.getElementById('attackType').addEventListener('change', renderMarkers);
  document.getElementById('stateOnly').addEventListener('change', renderMarkers);
  document.getElementById('includeUnknownDates').addEventListener('change', renderMarkers);

  // initial render
  renderMarkers();
</script>
</body>
</html>
